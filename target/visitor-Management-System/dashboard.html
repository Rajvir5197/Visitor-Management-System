
<!-- Begin Page Content -->
<div class="container-fluid mt-3">

<!-- Page Heading -->
<div class="row mb-2">
<div class="col-sm-8 align-self-center">
<h1 class="h4 text-gray-800">Dashboard</h1>
</div>

<div class="col-sm-4 text-right">
<!--<button type="button" class="btn btn-primary">Set Visit</button>-->
</div>
</div>
<!-- End Page Heading -->


<div class="row">
<div class="col-lg-3 col-sm-6 mb-3">
<div class="w-100 bg-success text-white p-3">
<div><span class="fa fa-users fa-2x"></span></div>

<div class="row">
<div class="col-sm-8 align-self-center FontSize18">Total Visits</div>
<div class="col-sm-4 text-right FontSize28">{{totalVisitCount}}</div>
</div>
</div>
</div>

<div class="col-lg-3 col-sm-6 mb-3">
<div class="w-100 bg-warning text-white p-3">
<div><span class="fa fa-calendar-alt fa-2x"></span></div>

<div class="row">
<div class="col-sm-8 align-self-center FontSize18">Todays Visit</div>
<div class="col-sm-4 text-right FontSize28">{{todaysVisitCount}}</div>
</div>
</div>
</div>

<div class="col-lg-3 col-sm-6 mb-3">
<div class="w-100 bg-danger text-white p-3">
<div><span class="fa fa-user-times fa-2x"></span></div>

<div class="row">
<div class="col-sm-8 align-self-center FontSize18">Cancel Visit</div>
<div class="col-sm-4 text-right FontSize28">{{cancelVisitCount}}</div>
</div>
</div>
</div>

<div class="col-lg-3 col-sm-6 mb-3">
<div class="w-100 bg-info text-white p-3">
<div><span class="fa fa-address-card fa-2x"></span></div>

<div class="row">
<div class="col-sm-8 align-self-center FontSize18">Attended Visit</div>
<div class="col-sm-4 text-right FontSize28">{{attendedVisitCount}}</div>
</div>
</div>
</div>
</div>


<div class="row">
<div class="col-lg-8">
<div class="row">
<div class="col-lg-6 mb-3">
<div class="w-100 bg-white">
<h2 class="m-0 FontSize22 p-3 TopBarBgColor text-white border-bottom">
<i class="fa fa-bullhorn fa-fw"></i> Upcoming Visits
</h2>
<div class="p-2" style="max-height:360px; overflow-y:scroll; overflow-x:hidden;">
<span ng-hide="allVisits.length > 0">No Upcoming Visit</span>
<!-- <ul class="listNew">
<li ng-repeat="visit in allVisits"><i class="fa fa-user fa-fw"></i> {{visit.meetingBooked.visitor.visitorName}}</li>
</ul>  -->
<div ng-show="allVisits.length > 0" class="table-responsive">
<table class="table">
<thead>
<tr>
<th class="BlackTxtColor">Visitor Name</th>
<th class="BlackTxtColor">Visit Date</th>
<th class="BlackTxtColor">Time</th>
</tr>
</thead>

<tbody>
<tr ng-repeat="visit in allVisits">
<td><a href="" ng-click="towardMeeting(visit)">{{visit.meetingBooked.visitor.visitorName}}</a></td>
<td>{{visit.meetingBooked.visitDate}}</td>
<td>{{visit.meetingBooked.visitTime}}</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div class="col-lg-6 mb-3">
<div class="w-100 bg-white">
<h2 class="m-0 FontSize22 p-3 TopBarBgColor text-white border-bottom">
<div class="row">
	<div class="col-lg-8">
		<i class="fa fa-file-alt fa-fw"></i> To do list
	</div>
	<div class="col-lg-4">
		<button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#addNewTask" ng-click="newTask = {};">Add Task</button>
	</div>
</div>
</h2>
<div class="p-2" style="max-height:360px; overflow-y:scroll; overflow-x:hidden;">
<span ng-hide="allTask.length > 0">No Task added</span>
<ul class="listNew">
<li ng-repeat="task in allTask" class="Rel"><i class="fa fa-file-alt fa-fw"></i>
<div class="tooltip"> {{task.taskName}}
<span class="tooltiptext">{{task.taskDescription}}</span></div>
<button class="btn btn-primary btn-sm ContFloatingBtn" ng-click="updateTask(task)">Pending</button>
</li>

</ul> 
</div>
</div>
</div>
</div>

<div class="row mb-3">
<div class="col-lg-12">
<div class="w-100 bg-white">
<h2 class="m-0 FontSize22 p-3 TopBarBgColor text-white border-bottom">
<i class="fa fa-sliders-h fa-fw"></i> Controls
</h2>
<div class="p-2 text-center">
<ul class="list-inline">
<li class="list-inline-item mr-4" data-toggle="modal" data-target="#VisitScheduleModal" ng-click="visit = {};"><div class="Circle80 bg-warning m-auto"><i class="fa fa-file-medical fa-2x text-white"></i></div></li>

<li class="list-inline-item mr-4"><div class="Circle80 bg-danger m-auto"><i class="fa fa-chart-pie fa-2x text-white"></i></div></li>

<li class="list-inline-item"><div class="Circle80 bg-info m-auto"><i class="fa fa-info fa-2x text-white"></i></div></li>
</ul>
</div>
</div>
</div>
</div>
</div>

<div class="col-lg-4 mb-3">
<div class="row">
<div class="col-lg-12">
<div class="w-100 bg-white">
<h2 class="m-0 FontSize22 p-3 TopBarBgColor text-white border-bottom">
<i class="fa fa-users fa-fw"></i> Contacts
</h2>

<div class="w-100 px-2 mt-2">
<div class="input-group mb-2">
<input type="text" class="form-control" placeholder="Search" ng-model="query">
<div class="input-group-prepend">
<div class="input-group-text rounded-right border-left"><i class="fa fa-search"></i></div>
</div>
</div>
</div>

<div class="p-2" style="max-height:480px; overflow-y:scroll; overflow-x:hidden;">
<span ng-hide="allContacts.length > 0">No Contacts</span>
<ul class="listNew">
<li ng-repeat="contact in allContacts | filter: query" class="Rel"><i class="fa fa-user fa-fw"></i><a href="tel:{{contact.mobileNumb}}">{{contact.firstName}} {{contact.lastName}} </a>
<button class="btn btn-primary btn-sm ContFloatingBtn" data-toggle="modal" data-target="#VisitScheduleModal" ng-click="setVisit(contact)">Set Visit</button></li>
</ul> 
</div>

<!--Visit Schedule Modal-->
<div class="modal fade" id="VisitScheduleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<form name="addVisitForm">
<div class="modal-header">
<h5 class="modal-title BlackTxtColor" id="exampleModalLabel">Visit Schedule Form</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<div class="row">

<div class="col-lg-6">
<div class="form-group">
<label>Name</label>
<input type="text" ng-model="visit.meetingBooked.visitor.visitorName" type="text" class="form-control" required>
</div>
</div>

<div class="col-lg-6">
<div class="form-group">
<label>Email Id</label>
<input type="email" ng-model="visit.meetingBooked.visitor.emailId" type="text" class="form-control" required>
</div>
</div>

<div class="col-lg-6">
<div class="form-group">
<label>Phone Number</label>
<input type="text" maxlength="10" minlength="10" ng-model="visit.meetingBooked.visitor.contactNumber" type="text" class="form-control" required>
</div>
</div>

<div class="col-lg-6">
<div class="form-group">
<label>Organization Name</label>
<textarea ng-model="visit.meetingBooked.visitor.organisation" class="form-control" rows="2" required></textarea>
</div>
</div>

<div class="col-lg-6">
<div class="form-group">
<label>Meeting type<span class="text-danger">*</span></label>
<select ng-model="visit.meetingBooked.meetingType" class="form-control" required>
<!-- <option>Meeting Type 1</option>
<option>Meeting Type 2</option> -->
<option ng-repeat="meetingType in allMeetingType">{{meetingType.meetingType}}</option>
</select>
</div>
</div>

<!-- <div class="col-lg-6">
<div class="form-group">
<label>Visit Date<span class="text-danger">*</span></label>
<div class="FaIcon">
<i class="fa fa-calendar-alt FloatIcon"></i>
<input ng-model="visit.meetingBooked.visitDate" type="date" class="form-control" required>
<span ng-show="invalidDate" style="color: red;">Please enter valid date</span>
</div>
</div>
</div> -->

<div class="col-lg-6">
<div class="form-group">
<label>Visit Date<span class="text-danger">*</span></label>
<div class="FaIcon">
<i class="fa fa-calendar-alt FloatIcon"></i>
<input id="datepicker" type="text" class="form-control" placeholder="select date" required>
<span ng-show="invalidDate" style="color: red;">Please enter valid date</span>
</div>
</div>
</div>

<!-- <div class="col-lg-6">
<div class="form-group">
<label>Visit Time</label>
<div class="FaIcon">
<i class="fa fa-clock FloatIcon"></i>
<input ng-model="visit.meetingBooked.visitTime" type="text" class="form-control" required>
</div>
</div>
</div> -->

<div class="col-lg-6">
<div class="form-group clockpicker" data-placement="left" data-align="top" data-autoclose="true">
<label>Visit Time<span class="text-danger">*</span></label>
<div class="FaIcon">
<i class="fa fa-clock FloatIcon"></i>
<input type="text" class="form-control" placeholder="select Time" required>
<span ng-show="invalidTime" style="color: red;">Please enter valid Time</span>
</div>
</div>
</div>

<div class="col-lg-6">
<div class="form-group">
<label>Location<span class="text-danger">*</span></label>
<select id="plantCode" ng-model="visit.meetingBooked.visitLocation" ng-options="plant.plantName for plant in EmpPlants track by plant.plantCode" class="form-control" name="plantCode" required>
</select>
</div>
</div>

</div>
</div>
<div class="modal-footer">
<button type="submit" class="btn btn-primary" ng-click="addNewVisit()">Set Visit</button>
<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
<!-- <button type="button" class="btn btn-warning">Future Ref.</button> -->
</div>
</form>
</div>
</div>
</div>
<!--//Visit Schedule Modal-->


</div>
</div>
</div>
</div>
</div>

<div class="modal fade" id="addNewTask" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-md" role="document">
<div class="modal-content">
<form name="addForm">
<div class="modal-header">
<h5 class="modal-title BlackTxtColor" id="exampleModalLabel">Add Task</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">


<!-- <div class="row">
<div class="col-lg-6 border-right"> -->
<div class="row">

<div class="col-lg-12">
<div class="form-group">
<label>Task Name</label>
<input type="text" ng-model="newTask.taskName" class="form-control" required />
</div>
</div>

<div class="col-lg-12">
<div class="form-group">
<label>Task Description</label>
<textarea ng-model="newTask.taskDescription" class="form-control" required ></textarea>
</div>
</div>

</div>
</div>
<div class="modal-footer">
	<button type="submit" class="btn btn-primary" ng-click="addTask()">Add</button>
	<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
</div>
</form>
</div>
</div>
</div>


<div class="modal fade" id="Loader" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-md" role="document">
<div class="modal-content" style="display: contents;">

	<img src="images/Spinner.gif" style="margin: 51%;" height="22%"/>

</div>
</div>
</div>

<!-- <div class="modal fade" id="Loader" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" 
style="margin-top: 22%;margin-left: 48%;">
<img ng-if="notLoaded" src="images/Spinner.gif" height="22%"/>
</div> -->

</div>
<!-- /End Page Content-->